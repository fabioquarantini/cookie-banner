//! jQuery Cookie Banner v0.1.0 - Fabio Quarantini - www.fabioquarantini.com
!function($,window,document,undefined){$.cookieBanner=function(settings){function createCookie(e,o,a){if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),expires="; expires="+n.toGMTString()}else expires="";document.cookie=e+"="+o+expires+"; path=/"}function readCookie(e){for(var o=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var t=a[n];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(o))return t.substring(o.length,t.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function hideBanner(){$("."+defaults.bannerClass).fadeOut(400,function(){$(this).remove()})}function reloadPage(){document.location.reload()}function createCookieConsent(){null===readCookie(defaults.cookieName)&&(createCookie(defaults.cookieName,"true",defaults.cookieExpiry),$(document).trigger("onConsent"),defaults.onConsent.call())}function checkPrivacyPage(){return window.location.pathname.toLowerCase()==defaults.cookiePageUrl.toLowerCase()?!0:!1}function activateBlockedElements(activatorClass){$("."+activatorClass).each(function(){if("SCRIPT"===$(this).prop("tagName")){var attr=$(this).attr("src");if(attr)$.getScript(attr);else{var scriptText=$(this).html();eval(scriptText)}$(this).attr("type","text/javascript")}else $("."+activatorClass).each(function(){var e=$(this).attr(defaults.blockCookieAttribute);e&&$(this).attr("src",e)})})}function createBanner(e){$(defaults.prependBannerTo).prepend(e.replace(/{{bannerClass}}/g,defaults.bannerClass).replace(/{{consentClass}}/g,defaults.consentClass).replace(/{{cookiePageUrl}}/g,defaults.cookiePageUrl))}var defaults={consentClass:"cookie-banner__button--accept",consentOnNavigation:!0,consentOnScroll:!0,bannerClass:"cookie-banner",bannerContent:'<div class="{{bannerClass}} cookie-banner--bottom">Questo sito utilizza cookie, anche di terze parti, per migliorare la tua esperienza di navigazione. Per saperne di pi√π o modificare le tue preferenze <a class="cookie-banner__link" href="{{cookiePageUrl}}">clicca qui</a>.<br />Chiudendo questo banner, scorrendo questa pagina o cliccando qualunque suo elemento acconsenti all\'uso dei cookie. <a href="#" class="cookie-banner__button cookie-banner__button--consent {{consentClass}}">Acconsento</a></div>',blockCookie:!0,blockCookieAttribute:"data-block-cookie",blockCookieClass:"block-cookie",cookieExpiry:365,cookieName:"consentCookie",cookiePageUrl:"/privacy.html",hideBannerOnScroll:!0,onConsent:function(){},prependBannerTo:"body",reloadPage:!1};$.extend(defaults,settings),null!==readCookie(defaults.cookieName)||checkPrivacyPage()||createBanner(defaults.bannerContent),defaults.consentOnNavigation&&null===readCookie(defaults.cookieName)&&!checkPrivacyPage()&&$(document).on("click","a",function(){this.pathname.toLowerCase()!==defaults.cookiePageUrl.toLowerCase()&&createCookieConsent()}),$("body").on("click","."+defaults.consentClass,function(){null===readCookie(defaults.cookieName)&&(createCookieConsent(),defaults.blockCookie&&activateBlockedElements(defaults.blockCookieClass)),hideBanner(),defaults.reloadPage&&reloadPage()}),defaults.consentOnScroll&&null===readCookie(defaults.cookieName)&&!checkPrivacyPage()&&$(window).one("scroll",function(){createCookieConsent(),defaults.blockCookie&&activateBlockedElements(defaults.blockCookieClass),defaults.hideBannerOnScroll&&hideBanner()}),defaults.blockCookie&&readCookie(defaults.cookieName)&&activateBlockedElements(defaults.blockCookieClass),$.cookieBanner.consent=function(){return readCookie(defaults.cookieName)}}}(jQuery,window,document);